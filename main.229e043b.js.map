{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","form","createElement","createNotification","type","divNotification","setAttribute","className","style","width","minHeight","padding","boxSizing","borderRadius","position","top","right","h1","p","display","fontWeight","textAlign","append","background","textContent","setTimeout","remove","innerHTML","count","currentSortedCollumn","tBody","convertSalary","number","Intl","NumberFormat","format","addEventListener","event","preventDefault","target","closest","columnsAmount","rows","cells","length","nameInput","children","ageInput","positionInput","salaryInput","value","labels","formValues","querySelectorAll","label","push","salary","pop","i","lastRow","lastChild","map","formValue","join","lastCell","tbody","tableRows","onlyNumbers","string","result","replace","NaN","sortRows","array","sortType","sort","a","b","first","cellIndex","innerText","second","isNaN","localeCompare","e","classList","parentElement","add","initialTextContent","inputCell","ev","keyCode","row","lastElementChild"],"mappings":"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","file":"main.229e043b.js","sourceRoot":"../src","sourcesContent":["/* eslint-disable no-unused-expressions */\n/* eslint-disable no-shadow */\n'use strict';\n\nconst body = document.querySelector('body');\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\nbody.append(form);\n\nform.innerHTML = `\n<label>\nName:\n<input name=\"name\" type=\"text\"\ndata-qa=\"name\"\nrequired>\n</label>\n\n<label>\nPosition:\n<input name=\"position\" type=\"text\ndata-qa=\"position\"\nrequired>\n</label>\n\n<label>\nOffice:\n\n<select name=\"office\" type=\"text\"\ndata-qa=\"office\"\nrequired>\n<option value=\"Tokyo\">Tokyo</option>\n<option value=\"Singapore\">Singapore</option>\n<option value=\"London\">London</option>\n<option value=\"New York\">New York</option>\n<option value=\"Edinburgh\">Edinburgh</option>\n<option value=\"San Francisco\">San Francisco</option>\n</select>\n</label>\n\n<label>\nAge:\n<input name=\"number\" type=\"number\"\ndata-qa=\"age\"\nrequired>\n</label>\n\n<label>\nSalary:\n<input name=\"number\" type=\"number\"\ndata-qa=\"salary\"\nrequired>\n</label>\n\n<button>Save to table</button>\n`;\n\nfunction createNotification(type) {\n  const divNotification = document.createElement('div');\n\n  divNotification.setAttribute('data-qa', 'notification');\n\n  divNotification.className = type;\n\n  divNotification.style.width = '300px';\n  divNotification.style.minHeight = '100px';\n  divNotification.style.padding = '0 16px';\n  divNotification.style.boxSizing = 'border-box';\n  divNotification.style.borderRadius = '10px';\n  divNotification.style.position = 'absolute';\n  divNotification.style.top = '500px';\n  divNotification.style.right = '100px';\n\n  const h1 = document.createElement('h1');\n\n  const p = document.createElement('p');\n\n  h1.style.display = 'block';\n  h1.style.fontWeight = 900;\n  h1.style.textAlign = 'center';\n\n  p.style.textAlign = 'center';\n\n  body.append(divNotification);\n  divNotification.append(h1);\n  divNotification.append(p);\n\n  if (divNotification.className === 'error') {\n    divNotification.style.background = 'rgba(253, 0, 0, 0.3)';\n    h1.textContent = 'Error';\n    p.textContent = '';\n  }\n\n  if (divNotification.className === 'success') {\n    divNotification.style.background = 'rgba(10, 189, 0, 0.3)';\n    h1.textContent = 'Success';\n    p.textContent = 'Employee is successfuly added to the table';\n  }\n\n  setTimeout(() => divNotification.remove(), 2000);\n};\n\nlet count = 0;\nlet currentSortedCollumn = '';\n\nconst tBody = document.querySelector('tbody');\n\nbody.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (event.target.closest('button')) {\n    const columnsAmount = tBody.rows[0].cells.length;\n\n    const nameInput = document.querySelector('form').children[0].children[0];\n    const ageInput = document.querySelector('form').children[3].children[0];\n    const positionInput = document.querySelector('form').children[1]\n      .children[0];\n    const salaryInput = document.querySelector('form').children[4].children[0];\n\n    if (nameInput.value === ''\n      || ageInput.value === ''\n      || positionInput.value === ''\n      || salaryInput.value === '') {\n      createNotification('error');\n\n      document.querySelector('.error')\n        .querySelector('p').textContent = 'All fields must be field';\n\n      return;\n    }\n\n    if (nameInput.value === ''\n      || ageInput.value === ''\n      || positionInput.value === ''\n      || salaryInput.value === '') {\n      createNotification('error');\n\n      document.querySelector('.error')\n        .querySelector('p').textContent = 'All fields must be field';\n\n      return;\n    }\n\n    if (nameInput.value.length < 4) {\n      createNotification('error');\n\n      document.querySelector('.error')\n        .querySelector('p').textContent = 'A name is too short. Try again';\n\n      return;\n    }\n\n    if (+ageInput.value < 18) {\n      createNotification('error');\n\n      document.querySelector('.error')\n        .querySelector('p').textContent = 'Age is less than 18. Try again';\n\n      return;\n    }\n\n    if (+ageInput.value > 90) {\n      createNotification('error');\n\n      document.querySelector('.error')\n        .querySelector('p').textContent = 'Age is more than 90. Try again';\n\n      return;\n    }\n\n    const labels = document.querySelectorAll('label');\n    const formValues = [];\n\n    for (const label of labels) {\n      formValues.push(label.children[0]);\n    }\n\n    const salary = formValues.pop();\n\n    const rows = document.createElement('tr');\n\n    for (let i = 0; i < columnsAmount; i++) {\n      tBody.append(rows);\n    }\n\n    const lastRow = tBody.lastChild;\n\n    lastRow.innerHTML = `\n  ${formValues.map(formValue => `\n  <td>${formValue.value}</td>\n  `).join('')}\n  `;\n\n    const lastCell = document.createElement('td');\n\n    lastCell.textContent = convertSalary(salary.value);\n    lastRow.append(lastCell);\n\n    createNotification('success');\n  }\n\n  if (event.target.closest('thead')) {\n    const tbody = document.querySelector('tbody');\n\n    const tableRows = [...tbody.rows];\n\n    const onlyNumbers = string => {\n      const result = string.replace(/[$,]/g, '');\n\n      return result.length ? +result : NaN;\n    };\n\n    const sortRows = (array, sortType) => {\n      if (sortType === 'ABC') {\n        array.sort((a, b) => {\n          const first = a.children[event.target.cellIndex].innerText;\n          const second = b.children[event.target.cellIndex].innerText;\n\n          return isNaN(onlyNumbers(first)) ? first.localeCompare(second)\n            : onlyNumbers(first) - onlyNumbers(second);\n        }\n        );\n      } else if (sortType === 'DESC') {\n        array.sort((a, b) => {\n          const first = a.children[event.target.cellIndex].innerText;\n          const second = b.children[event.target.cellIndex].innerText;\n\n          return isNaN(onlyNumbers(first)) ? second.localeCompare(first)\n            : onlyNumbers(second) - onlyNumbers(first);\n        }\n        );\n      }\n    };\n\n    if (currentSortedCollumn !== event.target.textContent) {\n      currentSortedCollumn = event.target.textContent;\n    }\n\n    count === 0 ? (sortRows(tableRows, 'ABC'), count = 1)\n      : (count = 0, sortRows(tableRows, 'DESC'));\n\n    tbody.append(...tableRows);\n  }\n}\n);\n\ntBody.addEventListener('click', (e) => {\n  for (const item of tBody.children) {\n    item.classList.remove('active');\n  }\n\n  e.target.parentElement.classList.add('active');\n});\n\nfunction convertSalary(number) {\n  return `$${Intl.NumberFormat('en-US').format(number)}`;\n}\n\ntBody.addEventListener('dblclick', event => {\n  const target = event.target;\n  const initialTextContent = target.textContent;\n\n  const inputCell = document.createElement('input');\n\n  inputCell.type = 'text-area';\n  inputCell.className = 'cell-input';\n\n  event.target.textContent = '';\n  event.target.append(inputCell);\n\n  inputCell.addEventListener('blur', ev => {\n    if (inputCell.value === '') {\n      inputCell.value = initialTextContent;\n    }\n  });\n\n  inputCell.addEventListener('keydown', ev => {\n    const tableRows = [...tBody.rows];\n\n    if (ev.keyCode === 13) {\n      for (const row of tableRows) {\n        if (target === row.lastElementChild) {\n          target.textContent = convertSalary(+inputCell.value);\n          break;\n        } else {\n          target.textContent = inputCell.value;\n        }\n      }\n    }\n  });\n});\n"]}